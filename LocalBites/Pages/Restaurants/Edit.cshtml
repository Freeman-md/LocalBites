@page "{id}"
@model Restaurants.EditModel
@{
    ViewData["Title"] = "Edit Restaurant";
}

<a asp-page="/Index" class="text-sm text-gray-500 hover:underline mb-4 inline-block">&larr; Back</a>

<section class="max-w-xl mx-auto">
    <form method="post" enctype="multipart/form-data"
        class="rounded-lg bg-white flex flex-col space-y-4 p-8">
        <h2 class="text-2xl font-semibold">Edit Restaurant</h2>

        <div class="text-red-500 text-sm mb-4" asp-validation-summary="ModelOnly"></div>

        @if (Model.ImagePreview != null)
        {
            <img src="@Model.ImagePreview" class="h-56 w-full rounded-md object-cover" />
        }

        <div>
            <label class="block mb-2">Restaurant Name</label>
            <input asp-for="EditRestaurantDto.Name" class="form-input" />
            <span asp-validation-for="EditRestaurantDto.Name" class="text-red-500 text-sm"></span>
        </div>

        <div>
            <label class="block mb-2">Location</label>
            <select asp-for="EditRestaurantDto.Location" asp-items="Model.Locations" class="form-select"></select>
            <span asp-validation-for="EditRestaurantDto.Location" class="text-red-500 text-sm"></span>
        </div>

        <div>
            <label class="block mb-2">Cuisine</label>
            <select asp-for="EditRestaurantDto.Cuisine" asp-items="Model.Cuisines" class="form-select"></select>
            <span asp-validation-for="EditRestaurantDto.Cuisine" class="text-red-500 text-sm"></span>
        </div>

        <div>
            <label class="block mb-2">Update Image (optional)</label>
            <input type="file" asp-for="EditRestaurantDto.Image" class="form-input" />
        </div>

        <div>
            <label class="block mb-2">Description</label>
            <textarea asp-for="EditRestaurantDto.Description" class="form-input resize-none" rows="4"></textarea>
            <span asp-validation-for="EditRestaurantDto.Description" class="text-red-500 text-sm"></span>
        </div>

        <div class="flex justify-end items-center space-x-4 mt-4">
            <a asp-page="/Restaurants/View" asp-route-id="@Model.Id" class="btn btn-grey">Cancel</a>
            <button type="submit" class="btn btn-primary">Update</button>
        </div>
    </form>
</section>

<partial name="_ValidationScriptsPartial" />
